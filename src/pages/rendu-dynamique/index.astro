---
import Layout from "../../layouts/Layout.astro";
import penguins from "../../assets/penguins.json";

// Extraire la liste des esp√®ces uniques et les trier
const speciesList = [...new Set(penguins.map((p) => p.species))].sort();
---

<Layout title="Liste des esp√®ces ‚Äî Rendu dynamique">
    <section class="max-w-6xl mx-auto">
        <!-- En-t√™te -->
        <header class="text-center mb-12">
            <h1 class="text-4xl font-bold text-gray-800 mb-4">
                Liste des esp√®ces de pingouins üêß
            </h1>
            <p class="text-gray-600 text-lg max-w-2xl mx-auto">
                S√©lectionne une esp√®ce ci-dessous pour afficher son graphique
                interactif. Chaque carte te permet d‚Äôexplorer les
                caract√©ristiques physiques des pingouins de cette esp√®ce.
            </p>
        </header>

        <!-- Liste des esp√®ces -->
        <ul class="grid sm:grid-cols-2 lg:grid-cols-3 gap-8">
            {
                speciesList.map((s) => (
                    <li class="group bg-white rounded-2xl shadow-md border border-gray-200 hover:shadow-lg transition-all duration-300 p-6 text-center">
                        <h2 class="text-2xl font-semibold text-gray-800 mb-3 group-hover:text-blue-600 transition-colors">
                            {s}
                        </h2>
                        <p class="text-gray-500 mb-4">
                            Explorer les donn√©es de l'esp√®ce{" "}
                            <span class="font-medium">{s}</span>
                        </p>
                        <a
                            href={`/rendu-dynamique/${s}`}
                            class="inline-block bg-blue-600 hover:bg-blue-700 text-white font-medium py-2.5 px-5 rounded-lg shadow-sm transition-transform transform group-hover:-translate-y-0.5"
                        >
                            Voir le graphique ‚Üí
                        </a>
                    </li>
                ))
            }
        </ul>

        <!-- Note -->
        <p class="mt-12 text-center text-gray-500 text-sm">
            Les pages sont rendues dynamiquement gr√¢ce √† <code
                class="bg-gray-100 px-1 rounded"
                >export const prerender = false;</code
            >
        </p>
    </section>
</Layout>
